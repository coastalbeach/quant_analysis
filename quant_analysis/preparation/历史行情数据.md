### 历史行情数据-东财

接口: stock_zh_a_hist

目标地址: https://quote.eastmoney.com/concept/sh603777.html?from=classic(示例)

描述: 东方财富-沪深京 A 股日频率数据; 历史数据按日频率更新, 当日收盘价请在收盘后获取

限量: 单次返回指定沪深京 A 股上市公司、指定周期和指定日期间的历史行情日频率数据

输入参数

| 名称         | 类型    | 描述                                                       |
|------------|-------|----------------------------------------------------------|
| symbol     | str   | symbol='603777'; 股票代码可以在 **ak.stock_zh_a_spot_em()** 中获取 |
| period     | str   | period='daily'; choice of {'daily', 'weekly', 'monthly'} |
| start_date | str   | start_date='20210301'; 开始查询的日期                           |
| end_date   | str   | end_date='20210616'; 结束查询的日期                             |
| adjust     | str   | 默认返回不复权的数据; qfq: 返回前复权后的数据; hfq: 返回后复权后的数据               |
| timeout    | float | timeout=None; 默认不设置超时参数                                  |

**股票数据复权**

1. 为何要复权：由于股票存在配股、分拆、合并和发放股息等事件，会导致股价出现较大的缺口。
若使用不复权的价格处理数据、计算各种指标，将会导致它们失去连续性，且使用不复权价格计算收益也会出现错误。
为了保证数据连贯性，常通过前复权和后复权对价格序列进行调整。

2. 前复权：保持当前价格不变，将历史价格进行增减，从而使股价连续。
前复权用来看盘非常方便，能一眼看出股价的历史走势，叠加各种技术指标也比较顺畅，是各种行情软件默认的复权方式。
这种方法虽然很常见，但也有两个缺陷需要注意。

    2.1 为了保证当前价格不变，每次股票除权除息，均需要重新调整历史价格，因此其历史价格是时变的。
这会导致在不同时点看到的历史前复权价可能出现差异。

    2.2 对于有持续分红的公司来说，前复权价可能出现负值。

3. 后复权：保证历史价格不变，在每次股票权益事件发生后，调整当前的股票价格。
后复权价格和真实股票价格可能差别较大，不适合用来看盘。
其优点在于，可以被看作投资者的长期财富增长曲线，反映投资者的真实收益率情况。

4. 在量化投资研究中普遍采用后复权数据。

输出参数-历史行情数据

| 名称   | 类型      | 描述          |
|------|---------|-------------|
| 日期   | object  | 交易日         |
| 股票代码 | object  | 不带市场标识的股票代码 |
| 开盘   | float64 | 开盘价         |
| 收盘   | float64 | 收盘价         |
| 最高   | float64 | 最高价         |
| 最低   | float64 | 最低价         |
| 成交量  | int64   | 注意单位: 手     |
| 成交额  | float64 | 注意单位: 元     |
| 振幅   | float64 | 注意单位: %     |
| 涨跌幅  | float64 | 注意单位: %     |
| 涨跌额  | float64 | 注意单位: 元     |
| 换手率  | float64 | 注意单位: %     |

接口示例-历史行情数据-不复权

```python
import akshare as ak

stock_zh_a_hist_df = ak.stock_zh_a_hist(symbol="000001", period="daily", start_date="20170301", end_date='20240528', adjust="")
print(stock_zh_a_hist_df)
```

数据示例-历史行情数据-不复权

```
            日期    股票代码   开盘   收盘  ... 振幅  涨跌幅  涨跌额 换手率
0     2017-03-01  000001   9.49   9.49  ...  0.84  0.11  0.01  0.21
1     2017-03-02  000001   9.51   9.43  ...  1.26 -0.63 -0.06  0.24
2     2017-03-03  000001   9.41   9.40  ...  0.74 -0.32 -0.03  0.20
3     2017-03-06  000001   9.40   9.45  ...  0.74  0.53  0.05  0.24
4     2017-03-07  000001   9.44   9.45  ...  0.63  0.00  0.00  0.17
...          ...     ...    ...    ...  ...   ...   ...   ...   ...
1755  2024-05-22  000001  11.56  11.56  ...  2.42  0.09  0.01  1.09
1756  2024-05-23  000001  11.53  11.40  ...  1.90 -1.38 -0.16  0.95
1757  2024-05-24  000001  11.37  11.31  ...  1.67 -0.79 -0.09  0.72
1758  2024-05-27  000001  11.31  11.51  ...  1.95  1.77  0.20  0.75
1759  2024-05-28  000001  11.50  11.40  ...  1.91 -0.96 -0.11  0.62
[1760 rows x 12 columns]
```

接口示例-历史行情数据-前复权

```python
import akshare as ak

stock_zh_a_hist_df = ak.stock_zh_a_hist(symbol="000001", period="daily", start_date="20170301", end_date='20240528', adjust="qfq")
print(stock_zh_a_hist_df)
```

数据示例-历史行情数据-前复权

```
           日期    股票代码   开盘    收盘  ...  振幅  涨跌幅  涨跌额 换手率
0     2017-03-01  000001   8.14   8.14  ...  0.98  0.12  0.01  0.21
1     2017-03-02  000001   8.16   8.08  ...  1.47 -0.74 -0.06  0.24
2     2017-03-03  000001   8.06   8.05  ...  0.87 -0.37 -0.03  0.20
3     2017-03-06  000001   8.05   8.10  ...  0.87  0.62  0.05  0.24
4     2017-03-07  000001   8.09   8.10  ...  0.74  0.00  0.00  0.17
...          ...     ...    ...    ...  ...   ...   ...   ...   ...
1755  2024-05-22  000001  11.56  11.56  ...  2.42  0.09  0.01  1.09
1756  2024-05-23  000001  11.53  11.40  ...  1.90 -1.38 -0.16  0.95
1757  2024-05-24  000001  11.37  11.31  ...  1.67 -0.79 -0.09  0.72
1758  2024-05-27  000001  11.31  11.51  ...  1.95  1.77  0.20  0.75
1759  2024-05-28  000001  11.50  11.40  ...  1.91 -0.96 -0.11  0.62
[1760 rows x 12 columns]
```

接口示例-历史行情数据-后复权

```python
import akshare as ak

stock_zh_a_hist_df = ak.stock_zh_a_hist(symbol="000001", period="daily", start_date="20170301", end_date='20240528', adjust="hfq")
print(stock_zh_a_hist_df)
```

数据示例-历史行情数据-后复权

```
           日期    股票代码   开盘     收盘  ...    振幅   涨跌幅   涨跌额 换手率
0     2017-03-01  000001  1575.20  1575.20  ...  0.83  0.10   1.63  0.21
1     2017-03-02  000001  1578.45  1565.45  ...  1.24 -0.62  -9.75  0.24
2     2017-03-03  000001  1562.20  1560.57  ...  0.73 -0.31  -4.88  0.20
3     2017-03-06  000001  1560.57  1568.70  ...  0.73  0.52   8.13  0.24
4     2017-03-07  000001  1567.07  1568.70  ...  0.62  0.00   0.00  0.17
...          ...     ...      ...      ...  ...   ...   ...    ...   ...
1755  2024-05-22  000001  2131.04  2131.04  ...  2.14  0.08   1.62  1.09
1756  2024-05-23  000001  2126.17  2105.04  ...  1.68 -1.22 -26.00  0.95
1757  2024-05-24  000001  2100.16  2090.41  ...  1.47 -0.69 -14.63  0.72
1758  2024-05-27  000001  2090.41  2122.92  ...  1.71  1.56  32.51  0.75
1759  2024-05-28  000001  2121.29  2105.04  ...  1.68 -0.84 -17.88  0.62
[1760 rows x 12 columns]
```

### 历史行情数据-通用

接口: index_zh_a_hist

目标地址: http://quote.eastmoney.com/center/hszs.html

描述: 东方财富网-中国股票指数-行情数据

限量: 单次返回具体指数指定 period 从 start_date 到 end_date 的之间的近期数据

输入参数

| 名称         | 类型  | 描述                                                       |
|------------|-----|----------------------------------------------------------|
| symbol     | str | symbol="399282"; 指数代码，此处不用市场标识                           |
| period     | str | period="daily"; choice of {'daily', 'weekly', 'monthly'} |
| start_date | str | start_date="19700101"; 开始日期                              |
| end_date   | str | end_date="22220101"; 结束时间                                |

输出参数

| 名称  | 类型      | 描述      |
|-----|---------|---------|
| 日期  | object  | 交易日     |
| 开盘  | float64 | 开盘价     |
| 收盘  | float64 | 收盘价     |
| 最高  | float64 | 最高价     |
| 最低  | float64 | 最低价     |
| 成交量 | int32   | 注意单位: 手 |
| 成交额 | float64 | 注意单位: 元 |
| 振幅  | float64 | 注意单位: % |
| 涨跌幅 | float64 | 注意单位: % |
| 涨跌额 | float64 | 注意单位: 元 |
| 换手率 | float64 | 注意单位: % |

接口示例

```python
import akshare as ak

index_zh_a_hist_df = ak.index_zh_a_hist(symbol="000016", period="daily", start_date="19700101", end_date="22220101")
print(index_zh_a_hist_df)
```

数据示例

```
       日期       开盘       收盘       最高  ...   振幅   涨跌幅 涨跌额   换手率
0     2004-01-02   997.00  1011.35  1021.57  ...  0.00  0.00   0.00  0.00
1     2004-01-05  1008.28  1060.80  1060.90  ...  5.20  4.89  49.45  0.00
2     2004-01-06  1059.14  1075.66  1086.69  ...  2.60  1.40  14.86  0.00
3     2004-01-07  1075.56  1086.30  1095.84  ...  2.31  0.99  10.64  0.00
4     2004-01-08  1087.68  1102.66  1108.29  ...  2.37  1.51  16.36  0.00
          ...      ...      ...      ...  ...   ...   ...    ...   ...
4400  2022-02-15  3101.36  3119.93  3126.42  ...  0.95  0.51  15.93  0.24
4401  2022-02-16  3134.88  3136.08  3150.86  ...  0.70  0.52  16.15  0.20
4402  2022-02-17  3138.77  3139.18  3156.87  ...  0.79  0.10   3.10  0.20
4403  2022-02-18  3126.28  3162.82  3162.82  ...  1.30  0.75  23.64  0.19
4404  2022-02-21  3155.32  3144.86  3155.88  ...  0.86 -0.57 -17.96  0.21
```

### *东方财富-指数

接口: stock_board_concept_hist_em

目标地址: http://quote.eastmoney.com/bk/90.BK0715.html

描述: 东方财富-沪深板块-概念板块-历史行情数据

限量: 单次返回指定 symbol 和 adjust 的历史数据

输入参数

| 名称         | 类型  | 描述                                                                            |
|------------|-----|-------------------------------------------------------------------------------|
| symbol     | str | symbol="绿色电力"; 可以通过调用 **ak.stock_board_concept_name_em()** 查看东方财富-概念板块的所有概念代码 |
| period     | str | period="daily"; choice of {"daily", "weekly", "monthly"}                      |
| start_date | str | start_date="20220101"                                                         |
| end_date   | str | end_date="20221128"                                                           |
| adjust     | str | adjust=""; choice of {'': 不复权, 默认; "qfq": 前复权, "hfq": 后复权}                    |

输出参数

| 名称  | 类型      | 描述      |
|-----|---------|---------|
| 日期  | object  | -       |
| 开盘  | float64 | -       |
| 收盘  | float64 | -       |
| 最高  | float64 | -       |
| 最低  | float64 | -       |
| 涨跌幅 | float64 | 注意单位: % |
| 涨跌额 | float64 | -       |
| 成交量 | int64   | -       |
| 成交额 | float64 | -       |
| 振幅  | float64 | 注意单位: % |
| 换手率 | float64 | 注意单位: % |

接口示例

```python
import akshare as ak

stock_board_concept_hist_em_df = ak.stock_board_concept_hist_em(symbol="绿色电力", period="daily", start_date="20220101", end_date="20250227", adjust="")
print(stock_board_concept_hist_em_df)
```

数据示例

```
      日期        开盘      收盘      最高  ...     成交量       成交额    振幅   换手率
0    2022-01-04  1151.48  1143.13  1155.59  ...  57503811  4.502800e+10  1.22  1.42
1    2022-01-05  1141.91  1106.74  1141.91  ...  54859005  4.212589e+10  3.74  1.35
2    2022-01-06  1100.52  1115.16  1122.27  ...  42174619  3.282551e+10  2.25  1.04
3    2022-01-07  1115.49  1089.20  1118.08  ...  44604672  3.478526e+10  2.61  1.10
4    2022-01-10  1083.43  1082.51  1088.21  ...  36095282  2.706919e+10  1.23  0.89
..          ...      ...      ...      ...  ...       ...           ...   ...   ...
756  2025-02-21   985.80   986.71   987.88  ...  42772223  2.825437e+10  0.91  1.06
757  2025-02-24   986.75   996.56   997.62  ...  43658453  3.027056e+10  1.13  1.08
758  2025-02-25   990.79   990.51   997.28  ...  38009252  2.627609e+10  1.00  0.94
759  2025-02-26   991.87  1002.54  1002.57  ...  39788170  2.634823e+10  1.08  0.98
760  2025-02-27  1002.54   995.28  1003.97  ...  38629884  2.581886e+10  1.89  0.95
[761 rows x 11 columns]
```

### 东方财富-指数-日频

接口: stock_board_industry_hist_em

目标地址: https://quote.eastmoney.com/bk/90.BK1027.html

描述: 东方财富-沪深板块-行业板块-历史行情数据

限量: 单次返回指定 symbol 和 adjust 的所有历史数据

输入参数

| 名称         | 类型  | 描述                                                                            |
|------------|-----|-------------------------------------------------------------------------------|
| symbol     | str | symbol="小金属"; 可以通过调用 **ak.stock_board_industry_name_em()** 查看东方财富-行业板块的所有行业代码 |
| start_date | str | start_date="20211201";                                                        |
| end_date   | str | end_date="20220401";                                                          |
| period     | str | period="日k"; 周期; choice of {"日k", "周k", "月k"}                                 |
| adjust     | str | adjust=""; choice of {'': 不复权, 默认; "qfq": 前复权, "hfq": 后复权}                    |

输出参数

| 名称  | 类型      | 描述      |
|-----|---------|---------|
| 日期  | object  | -       |
| 开盘  | float64 | -       |
| 收盘  | float64 | -       |
| 最高  | float64 | -       |
| 最低  | float64 | -       |
| 涨跌幅 | float64 | 注意单位: % |
| 涨跌额 | float64 | -       |
| 成交量 | int64   | -       |
| 成交额 | float64 | -       |
| 振幅  | float64 | 注意单位: % |
| 换手率 | float64 | 注意单位: % |

接口示例

```python
import akshare as ak

stock_board_industry_hist_em_df = ak.stock_board_industry_hist_em(symbol="小金属", start_date="20211201", end_date="20240222", period="日k", adjust="")
print(stock_board_industry_hist_em_df)
```

数据示例

```
        日期      开盘      收盘     最高  ...       成交量        成交额    振幅   换手率
0    2021-12-01  1915.46  1915.23  1919.43  ...  17207231  3.134633e+10  1.77  3.68
1    2021-12-02  1909.70  1925.26  1947.38  ...  17723129  3.914958e+10  3.32  3.79
2    2021-12-03  1912.86  1923.48  1930.06  ...  14027893  3.125242e+10  2.52  3.00
3    2021-12-06  1924.43  1901.92  1940.57  ...  15612344  3.377371e+10  2.07  3.34
4    2021-12-07  1914.66  1851.77  1917.07  ...  14501660  3.131906e+10  4.61  3.10
..          ...      ...      ...      ...  ...       ...           ...   ...   ...
534  2024-02-08  1234.37  1271.41  1284.17  ...   9309314  1.033029e+10  5.01  1.99
535  2024-02-19  1271.91  1285.67  1294.59  ...   7797152  9.248781e+09  2.22  1.67
536  2024-02-20  1279.11  1285.77  1288.37  ...   5182130  6.270108e+09  1.86  1.11
537  2024-02-21  1274.53  1303.25  1336.49  ...   6059774  7.920041e+09  5.11  1.30
538  2024-02-22  1298.16  1320.27  1320.27  ...   4594781  5.684279e+09  1.94  0.98
[539 rows x 11 columns]
```

### 行业历史资金流

接口: stock_sector_fund_flow_hist

目标地址: https://data.eastmoney.com/bkzj/BK1034.html

描述: 东方财富网-数据中心-资金流向-行业资金流-行业历史资金流

限量: 单次获取指定行业的行业历史资金流数据

输入参数

| 名称     | 类型  | 描述            |
|--------|-----|---------------|
| symbol | str | symbol="汽车服务" |

输出参数

| 名称         | 类型      | 描述      |
|------------|---------|---------|
| 日期         | object  | 注意单位: % |
| 主力净流入-净额   | float64 | -       |
| 主力净流入-净占比  | float64 | 注意单位: % |
| 超大单净流入-净额  | float64 | -       |
| 超大单净流入-净占比 | float64 | 注意单位: % |
| 大单净流入-净额   | float64 | -       |
| 大单净流入-净占比  | float64 | 注意单位: % |
| 中单净流入-净额   | float64 | -       |
| 中单净流入-净占比  | float64 | 注意单位: % |
| 小单净流入-净额   | float64 | -       |
| 小单净流入-净占比  | float64 | 注意单位: % |

接口示例

```python
import akshare as ak

stock_sector_fund_flow_hist_df = ak.stock_sector_fund_flow_hist(symbol="汽车服务")
print(stock_sector_fund_flow_hist_df)
```

数据示例

```
      日期    主力净流入-净额  主力净流入-净占比  ...  中单净流入-净占比 小单净流入-净额  小单净流入-净占比
0    2024-08-20 -54471010.0     -10.09  ...       2.28  37641239.0       6.97
1    2024-08-21  10178690.0       1.91  ...      -0.79 -10308872.0      -1.94
2    2024-08-22 -44754582.0      -8.39  ...       1.49  32534534.0       6.10
3    2024-08-23 -27649222.0      -6.52  ...      -0.86  29341810.0       6.92
4    2024-08-26 -42767862.0     -10.11  ...      -2.63  53748702.0      12.70
..          ...         ...        ...  ...        ...         ...        ...
116  2025-02-18 -93269892.0      -6.56  ...       1.78  58625760.0       4.12
117  2025-02-19  21681328.0       1.51  ...       1.97 -32209872.0      -2.25
118  2025-02-20  11260284.0       0.89  ...       0.43  -6260576.0      -0.50
119  2025-02-21 -81443762.0      -5.66  ...       3.29  47217792.0       3.28
120  2025-02-24  20329299.0       1.44  ...       1.47 -58079088.0      -4.12
[121 rows x 11 columns]
```

### *概念历史资金流

接口: stock_concept_fund_flow_hist

目标地址: https://data.eastmoney.com/bkzj/BK0574.html

描述: 东方财富网-数据中心-资金流向-概念资金流-概念历史资金流

限量: 单次获取指定 symbol 的近期概念历史资金流数据

输入参数

| 名称     | 类型  | 描述            |
|--------|-----|---------------|
| symbol | str | symbol="数据要素" |

输出参数

| 名称         | 类型      | 描述      |
|------------|---------|---------|
| 日期         | object  | 注意单位: % |
| 主力净流入-净额   | float64 | -       |
| 主力净流入-净占比  | float64 | 注意单位: % |
| 超大单净流入-净额  | float64 | -       |
| 超大单净流入-净占比 | float64 | 注意单位: % |
| 大单净流入-净额   | float64 | -       |
| 大单净流入-净占比  | float64 | 注意单位: % |
| 中单净流入-净额   | float64 | -       |
| 中单净流入-净占比  | float64 | 注意单位: % |
| 小单净流入-净额   | float64 | -       |
| 小单净流入-净占比  | float64 | 注意单位: % |

接口示例

```python
import akshare as ak

stock_concept_fund_flow_hist_df = ak.stock_concept_fund_flow_hist(symbol="数据要素")
print(stock_concept_fund_flow_hist_df)
```

数据示例

```
      日期      主力净流入-净额  主力净流入-净占比  ... 中单净流入-净占比 小单净流入-净额  小单净流入-净占比
0    2024-08-20 -6.313736e+08      -4.65  ...      -1.32  8.085588e+08       5.96
1    2024-08-21 -3.658787e+08      -2.77  ...      -0.68  4.585833e+08       3.47
2    2024-08-22 -8.680331e+08      -6.05  ...      -1.09  1.004540e+09       7.00
3    2024-08-23 -1.840573e+08      -1.41  ...      -2.69  5.319882e+08       4.07
4    2024-08-26 -1.560898e+08      -1.42  ...      -2.13  3.791972e+08       3.44
..          ...           ...        ...  ...        ...           ...        ...
116  2025-02-18 -1.405755e+10      -8.92  ...       1.16  1.216662e+10       7.72
117  2025-02-19 -9.526664e+08      -0.73  ...      -0.99  2.248251e+09       1.71
118  2025-02-20 -5.894632e+09      -4.55  ...       0.36  5.343512e+09       4.12
119  2025-02-21  2.832990e+09       1.60  ...      -1.23 -5.548521e+08      -0.31
120  2025-02-24 -1.108665e+10      -7.88  ...       1.80  8.521074e+09       6.06
[121 rows x 11 columns]
```

### 筹码分布

接口: stock_cyq_em

目标地址: https://quote.eastmoney.com/concept/sz000001.html

描述: 东方财富网-概念板-行情中心-日K-筹码分布

限量: 单次返回指定 symbol 和 adjust 的近 90 个交易日数据

输入参数

| 名称     | 类型  | 描述                                                           |
|--------|-----|--------------------------------------------------------------|
| symbol | str | symbol="000001"; 股票代码                                        |
| adjust | str | adjust=""; choice of {"qfq": "前复权", "hfq": "后复权", "": "不复权"} |

输出参数

| 名称     | 类型      | 描述 |
|--------|---------|----|
| 日期     | object  | -  |
| 获利比例   | float64 | -  |
| 平均成本   | float64 | -  |
| 90成本-低 | float64 | -  |
| 90成本-高 | float64 | -  |
| 90集中度  | float64 | -  |
| 70成本-低 | float64 | -  |
| 70成本-高 | float64 | -  |
| 70集中度  | float64 | -  |

接口示例

```python
import akshare as ak

stock_cyq_em_df = ak.stock_cyq_em(symbol="000001", adjust="")
print(stock_cyq_em_df)
```

数据示例

```
      日期      获利比例   平均成本 90成本-低  ...  90集中度  70成本-低  70成本-高  70集中度
0   2023-08-30  0.002484  12.09   11.23  ...  0.081965   11.36   12.87  0.062519
1   2023-08-31  0.002459  12.09   11.21  ...  0.082870   11.36   12.85  0.061726
2   2023-09-01  0.146772  12.07   11.21  ...  0.082102   11.34   12.85  0.062625
3   2023-09-04  0.267725  12.05   11.21  ...  0.082102   11.34   12.85  0.062625
4   2023-09-05  0.186573  12.05   11.21  ...  0.082102   11.34   12.85  0.062625
..         ...       ...    ...     ...  ...       ...     ...     ...       ...
85  2024-01-05  0.103536  11.29    9.16  ...  0.174579    9.44   12.59  0.143242
86  2024-01-08  0.034893  11.29    9.16  ...  0.173302    9.40   12.59  0.145025
87  2024-01-09  0.061026  11.29    9.16  ...  0.173302    9.37   12.59  0.146813
88  2024-01-10  0.006555  11.29    9.16  ...  0.173302    9.37   12.59  0.146813
89  2024-01-11  0.074399  11.25    9.16  ...  0.173302    9.33   12.56  0.147273
[90 rows x 9 columns]
```
